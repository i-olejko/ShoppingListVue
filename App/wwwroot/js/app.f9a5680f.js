(function(t){function e(e){for(var a,i,c=e[0],s=e[1],u=e[2],m=0,l=[];m<c.length;m++)i=c[m],r[i]&&l.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);d&&d(e);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"72f7e6cd"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,a){n=r[t]=[e,a]});e.push(n[2]=a);var o,s=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t),o=function(e){u.onerror=u.onload=null,clearTimeout(m);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+a+": "+o+")");i.type=a,i.request=o,n[1](i)}r[t]=void 0}};var m=setTimeout(function(){o({type:"timeout",target:u})},12e4);u.onerror=u.onload=o,s.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var m=0;m<s.length;m++)e(s[m]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1fe1":function(t,e,n){},"2a35":function(t,e,n){},"4a1d":function(t,e,n){"use strict";var a=n("fcea"),r=n.n(a);r.a},"520a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=n("43f9"),o=n.n(r),i=(n("51de"),n("e094"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("md-app",[n("md-app-toolbar",{staticClass:"md-primary"},[n("span",{staticClass:"md-title"},[t._v("Shopping Cart")])]),n("md-app-drawer",{attrs:{"md-permanent":"full"}},[n("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[t._v("\n        Navigation\n      ")]),n("md-list",[n("md-list-item",[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[n("md-icon",[t._v("home")]),n("span",{staticClass:"md-list-item-text"},[t._v("Home")])],1)],1),n("md-list-item",[n("router-link",{staticClass:"nav-link",attrs:{to:"/Shop"}},[n("md-icon",[t._v("shopping_basket")]),n("span",{staticClass:"md-list-item-text"},[t._v("Shop")])],1)],1),n("md-list-item",[n("router-link",{staticClass:"nav-link",attrs:{to:"/Cart"}},[n("md-icon",[t._v("shopping_cart")]),n("span",{staticClass:"md-list-item-text"},[t._v("Cart")]),n("md-badge",{staticClass:"md-primary",attrs:{"md-content":t.cartProductsAmountGetter}})],1)],1)],1)],1),n("md-app-content",[n("router-view")],1)],1)],1)}),c=[],s=n("c93e"),u=n("2f62"),m={name:"App",computed:Object(s["a"])({},Object(u["c"])("cart",{cartProductsAmountGetter:"cartCartItemsAmount"}))},d=m,l=(n("4a1d"),n("2877")),p=Object(l["a"])(d,i,c,!1,null,"5bf1b270",null);p.options.__file="App.vue";var f=p.exports,v=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"wrapper"},[n("md-toolbar",{attrs:{"md-elevation":"0"}},[n("md-button",{staticClass:"md-raised",on:{click:function(e){t.f_onNewCart()}}},[t._v("\n          Start new cart\n          "),n("md-icon",[t._v("shopping_cart")])],1)],1)],1)])},b=[],_={name:"home",data:function(){return{idx:0}},computed:{cartId:function(){return this.$store.state.cart.cartId}},methods:Object(s["a"])({},Object(u["b"])("cart",["getNewCartId"]),{f_onNewCart:function(){var t=this;console.log("going to dispatch action getNewCartId"),this.getNewCartId().then(function(){var e=t.$store.state.cart.cartId;console.log("id from server is: ".concat(e)),t.$router.push({name:"shop",params:{id:e}})})}})},g=_,C=(n("b817"),Object(l["a"])(g,h,b,!1,null,"6630ddea",null));C.options.__file="Home.vue";var I=C.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("md-list",{staticClass:"md-triple-line"},t._l(t.allProducts,function(t,e){return n("ListItem",{key:e,attrs:{item:t}})}))],1)},O=[],w=(n("7cdf"),n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",[n("md-avatar",[n("img",{attrs:{src:t.getImage,alt:"Product"}})]),n("div",{staticClass:"md-list-item-text"},[n("span",[t._v(t._s(t.item.name))]),n("md-divider"),n("span",[t._v("Price: "+t._s(t.item.price)+"$")]),n("p",[t._v("description: "+t._s(t.item.id))])],1),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){t.addToCart()}}},[n("md-icon",{staticClass:"md-primary"},[t._v("add_shopping_cart")])],1)],1)}),y=[],P={name:"ListItem",props:{item:{type:Object,required:!0}},computed:{getImage:function(){var t=Math.floor(100*Math.random());return"https://placeimg.com/40/40/nature/".concat(t)}},methods:Object(s["a"])({},Object(u["b"])("cart",["addProductToCart"]),{addToCart:function(){var t=this.item;console.log("going to add to cart item with id: ".concat(t.id)),this.addProductToCart(t)}})},x=P,A=(n("6c92"),Object(l["a"])(x,w,y,!1,null,"7366c1e1",null));A.options.__file="ListItem.vue";var k=A.exports,T={name:"Shop",components:{ListItem:k},props:{id:{type:[Number,String],validator:function(t){return Number.isInteger(Number(t))}}},data:function(){return{allProducts:[]}},created:function(){var t=this;this.getAllProducts().then(function(){t.allProducts=t.$store.state.products.all})},methods:Object(s["a"])({},Object(u["b"])("products",["getAllProducts"]))},$=T,S=(n("5e0f"),Object(l["a"])($,j,O,!1,null,"a7a4a11e",null));S.options.__file="Shop.vue";var N=S.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("md-list",[t._l(t.cartItems,function(t,e){return n("CartListItem",{key:e,attrs:{cartItem:t}})}),n("md-divider"),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v("Total price: "+t._s(t.total)+"$")])])],2)],1)},L=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v("\n        "+t._s(t.cartItem.name)+"\n        "),n("i",[t._v(t._s(t.cartItem.price)+"$")])]),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){t.increase()}}},[n("md-icon",{staticClass:"md-primary"},[t._v("add")])],1),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){t.decrease()}}},[n("md-icon",{staticClass:"md-primary"},[t._v("remove")])],1),n("span",{staticClass:"amount"},[n("md-chip",[t._v(t._s(t.cartItem.amount))])],1)],1)},G=[],q={name:"CartListItem",props:{cartItem:{type:Object,required:!0}},methods:Object(s["a"])({},Object(u["b"])("cart",["incrementAmount","decrementAmount"]),{increase:function(){this.incrementAmount(this.cartItem.id)},decrease:function(){this.decrementAmount(this.cartItem.id)}})},H=q,J=(n("dcc9"),Object(l["a"])(H,M,G,!1,null,"07e15d2f",null));J.options.__file="CartListItem.vue";var B=J.exports,D={name:"Cart",components:{CartListItem:B},computed:Object(s["a"])({},Object(u["d"])({cartItems:function(t){return t.cart.items}}),Object(u["c"])("cart",{total:"GetTotalPrice"}))},z=D,F=(n("e5a2"),Object(l["a"])(z,E,L,!1,null,"68f1f46c",null));F.options.__file="Cart.vue";var K=F.exports;a["default"].use(v["a"]);var Q=new v["a"]({routes:[{path:"/",name:"home",component:I},{path:"/shop/:id",name:"shop",component:N,props:!0},{path:"/cart",name:"cart",component:K},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),R=(n("ac6a"),n("20d6"),n("f751"),n("bc3a")),U=n.n(R),V={namespaced:!0,state:{cartId:null,items:[]},mutations:{updateCartId:function(t,e){t.cartId=e},addItemToCart:function(t,e){var n=Object.assign({},e,{amount:1}),a=t.items.findIndex(function(t){return t.id===e.id});-1!==a?(n.amount=t.items[a].amount+1,t.items.splice(a,1,n)):t.items.push(n),console.log("adding item to cart with amount: ".concat(n.amount))},incrementAmount:function(t,e){var n=t.items.findIndex(function(t){return t.id===e});if(-1!==n){var a=t.items[n].amount+1;t.items[n].amount=a}},decrementAmount:function(t,e){var n=t.items.findIndex(function(t){return t.id===e});if(-1!==n){var a=t.items[n].amount-1;t.items[n].amount=a>0?a:0}}},getters:{cartCartItemsAmount:function(t){var e=0;return t.items.length>0&&(e=t.items.map(function(t){return t.amount}).reduce(function(t,e){return t+e},0)),e},getCartItems:function(t){return console.log("Getting cart items"),t.items},GetTotalPrice:function(t){var e=0;return t.items.forEach(function(t){e+=t.price*t.amount}),e}},actions:{getNewCartId:function(t){var e=t.commit;U.a.get("/api/cart").then(function(t){e("updateCartId",t.data.newCartID)}).catch(console.error)},addProductToCart:function(t,e){var n=t.commit;n("addItemToCart",e)},incrementAmount:function(t,e){var n=t.commit;n("incrementAmount",e)},decrementAmount:function(t,e){var n=t.commit;n("decrementAmount",e)}}},W={namespaced:!0,state:{all:[]},mutations:{updateProducts:function(t,e){t.all=e}},actions:{getAllProducts:function(t){var e=t.commit;U.a.get("/api/Products").then(function(t){e("updateProducts",t.data)}).catch(console.error)}}};a["default"].use(u["a"]);var X=new u["a"].Store({state:{},modules:{cart:V,products:W}});a["default"].config.productionTip=!1,a["default"].use(o.a),new a["default"]({router:Q,store:X,render:function(t){return t(f)}}).$mount("#app")},"5e0f":function(t,e,n){"use strict";var a=n("f028"),r=n.n(a);r.a},"636f":function(t,e,n){},"6c92":function(t,e,n){"use strict";var a=n("520a"),r=n.n(a);r.a},b817:function(t,e,n){"use strict";var a=n("1fe1"),r=n.n(a);r.a},dcc9:function(t,e,n){"use strict";var a=n("636f"),r=n.n(a);r.a},e5a2:function(t,e,n){"use strict";var a=n("2a35"),r=n.n(a);r.a},f028:function(t,e,n){},fcea:function(t,e,n){}});
//# sourceMappingURL=app.f9a5680f.js.map